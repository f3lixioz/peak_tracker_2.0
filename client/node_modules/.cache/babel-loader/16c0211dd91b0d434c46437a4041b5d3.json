{"ast":null,"code":"import _regeneratorRuntime from\"/home/merlin/SDI/co_14ers/peak_finder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/merlin/SDI/co_14ers/peak_finder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/merlin/SDI/co_14ers/peak_finder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditDate=function EditDate(_ref){var peak=_ref.peak;console.log(peak);var _useState=useState(peak.bag_date),_useState2=_slicedToArray(_useState,2),bag_date=_useState2[0],setDate=_useState2[1];var onSubmitForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={bag_date:bag_date};_context.next=5;return fetch(\"http://localhost:5000/peak/\".concat(peak.peak_id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:response=_context.sent;window.location=\"/\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 12:;case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function onSubmitForm(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-info\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#id\".concat(peak.peak_id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{class:\"modal\",id:\"id\".concat(peak.peak_id),onClick:function onClick(){return setDate(bag_date);},children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"modal-title\",children:\"Edit Date\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",onClick:function onClick(){return setDate(bag_date);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"YYYY-MM-DD\",onChange:function onChange(e){return setDate(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary\",\"data-bs-dismiss\":\"modal\",onClick:function onClick(e){return onSubmitForm(e);},children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-bs-dismiss\":\"modal\",onClick:function onClick(){return setDate(bag_date);},children:\"Exit\"})]})]})})})]});};export default EditDate;","map":{"version":3,"sources":["/home/merlin/SDI/co_14ers/peak_finder/client/src/components/EditDate.js"],"names":["React","Fragment","useState","EditDate","peak","console","log","bag_date","setDate","onSubmitForm","e","preventDefault","body","fetch","peak_id","method","headers","JSON","stringify","response","window","location","error","message","target","value"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,QAAzB,KAAwC,OAAxC,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CAC3BC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAD2B,cAECF,QAAQ,CAACE,IAAI,CAACG,QAAN,CAFT,wCAEpBA,QAFoB,eAEVC,OAFU,eAI3B,GAAMC,CAAAA,YAAY,2FAAG,iBAAMC,CAAN,oIACjBA,CAAC,CAACC,cAAF,GADiB,gBAIPC,IAJO,CAIA,CAACL,QAAQ,CAARA,QAAD,CAJA,uBAKUM,CAAAA,KAAK,sCAA+BT,IAAI,CAACU,OAApC,EAA8C,CACtEC,MAAM,CAAE,OAD8D,CAEtEC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF6D,CAGtEJ,IAAI,CAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAHgE,CAA9C,CALf,QAKPO,QALO,eAUbC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CAVa,+EAYbhB,OAAO,CAACiB,KAAR,CAAc,YAAIC,OAAlB,EAZa,QAahB,CAbgB,oEAAH,kBAAZd,CAAAA,YAAY,6CAAlB,CAgBA,mBAAO,MAAC,QAAD,yBAEH,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,cAA5B,CAA2C,iBAAe,OAA1D,CAAkE,8BAAsBL,IAAI,CAACU,OAA3B,CAAlE,kBAFG,cAGH,YAAK,KAAK,CAAC,OAAX,CAAmB,EAAE,aAAOV,IAAI,CAACU,OAAZ,CAArB,CAA4C,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAACD,QAAD,CAAb,EAArD,uBACI,YAAK,KAAK,CAAC,cAAX,uBACI,aAAK,KAAK,CAAC,eAAX,wBACI,aAAK,KAAK,CAAC,cAAX,wBACI,WAAI,KAAK,CAAC,aAAV,uBADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,kBAAgB,OAA5D,CAAoE,OAAO,CAAE,yBAAMC,CAAAA,OAAO,CAACD,QAAD,CAAb,EAA7E,EAFJ,GADJ,cAMI,YAAK,SAAS,CAAC,YAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,WAAW,CAAC,YAAxD,CAAqE,QAAQ,CAAE,kBAAAG,CAAC,QAAIF,CAAAA,OAAO,CAACE,CAAC,CAACc,MAAF,CAASC,KAAV,CAAX,EAAhF,EADJ,EANJ,cAUI,aAAK,KAAK,CAAC,cAAX,wBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iBAA5B,CAA8C,kBAAgB,OAA9D,CAAsE,OAAO,CAAE,iBAAAf,CAAC,QAAID,CAAAA,YAAY,CAACC,CAAD,CAAhB,EAAhF,qBADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,gBAA5B,CAA8C,kBAAgB,OAA9D,CAAsE,OAAO,CAAE,yBAAMF,CAAAA,OAAO,CAACD,QAAD,CAAb,EAA/E,kBAFJ,GAVJ,GADJ,EADJ,EAHG,GAAP,CAuBD,CA3CD,CA6CA,cAAeJ,CAAAA,QAAf","sourcesContent":["import React, {Fragment, useState} from \"react\";\r\n\r\nconst EditDate = ({peak}) => {\r\n  console.log(peak);\r\n  const [bag_date, setDate] = useState(peak.bag_date);\r\n\r\n  const onSubmitForm = async(e) => {\r\n      e.preventDefault();\r\n\r\n      try {\r\n          const body = {bag_date};\r\n          const response = await fetch(`http://localhost:5000/peak/${peak.peak_id}`,{\r\n              method: \"PATCH\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify(body)\r\n          });\r\n          window.location = \"/\";\r\n      } catch (err) {\r\n          console.error(err.message);\r\n      };\r\n  };\r\n\r\n  return <Fragment>\r\n\r\n      <button type=\"button\" class=\"btn btn-info\" data-bs-toggle=\"modal\" data-bs-target={`#id${peak.peak_id}`}>Edit</button>\r\n      <div class=\"modal\" id={`id${peak.peak_id}`} onClick={() => setDate(bag_date)}>\r\n          <div class=\"modal-dialog\">\r\n              <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                      <h4 class=\"modal-title\">Edit Date</h4>\r\n                      <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" onClick={() => setDate(bag_date)}></button>\r\n                  </div>\r\n\r\n                  <div className=\"modal-body\">\r\n                      <input type=\"text\" className=\"form-control\" placeholder=\"YYYY-MM-DD\" onChange={e => setDate(e.target.value)}/>\r\n                  </div>\r\n\r\n                  <div class=\"modal-footer\">\r\n                      <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" onClick={e => onSubmitForm(e)}>Confirm</button>\r\n                      <button type=\"button\" class=\"btn btn-danger\"  data-bs-dismiss=\"modal\" onClick={() => setDate(bag_date)}>Exit</button>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n  </Fragment>;\r\n};\r\n\r\nexport default EditDate;"]},"metadata":{},"sourceType":"module"}